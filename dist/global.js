(()=>{var e={d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{"use strict";var r;e.r(t),e.d(t,{CustomAttributeRegistry:()=>n,customAttributes:()=>l,version:()=>a});const o=Array.prototype.forEach;class n{constructor(e){if(this.ownerDocument=e,this._attrMap=new Map,this._elementMap=new WeakMap,this._observer=new MutationObserver((e=>{o.call(e,(e=>{"attributes"===e.type?this._getConstructor(e.attributeName)&&this._handleChange(e.attributeName,e.target,e.oldValue):(o.call(e.removedNodes,this._elementDisconnected),o.call(e.addedNodes,this._elementConnected))}))})),this._elementConnected=e=>{1===e.nodeType&&(o.call(e.attributes,(t=>{this._getConstructor(t.name)&&this._handleChange(t.name,e,null)})),this._attrMap.forEach(((t,r)=>this._upgradeAttr(r,e))))},this._elementDisconnected=e=>{const t=this._elementMap.get(e);t&&(t.forEach((e=>{var t;return null===(t=e.disconnectedCallback)||void 0===t?void 0:t.call(e)}),this),this._elementMap.delete(e))},!e)throw new Error("Must be given a document")}define(e,t){this._attrMap.set(e,t),this._upgradeAttr(e),this._reobserve()}get(e,t){const r=this._elementMap.get(e);if(r)return r.get(t)}_getConstructor(e){return this._attrMap.get(e)}_observe(){this._observer.observe(this.ownerDocument,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:Array.from(this._attrMap.keys())})}_unobserve(){this._observer.disconnect()}_reobserve(){this._unobserve(),this._observe()}_upgradeAttr(e,t=this.ownerDocument){const r=t.querySelectorAll("["+e+"]");o.call(r,(t=>this._handleChange(e,t,null)))}_handleChange(e,t,r){var o,n,s;let l=this._elementMap.get(t);l||this._elementMap.set(t,l=new Map);let a=l.get(e);const i=t.getAttribute(e);if(!a){if(a=new(this._getConstructor(e)),l.set(e,a),a.ownerElement=t,a.name=e,null==i)throw new Error("Not possible!");return a.value=i,void(null===(o=a.connectedCallback)||void 0===o||o.call(a))}if(null==i)null===(n=a.disconnectedCallback)||void 0===n||n.call(a),l.delete(e);else if(i!==a.value){if(a.value=i,null==r)throw new Error("Not possible!");null===(s=a.changedCallback)||void 0===s||s.call(a,r,i)}}}if(null===(r=globalThis.window)||void 0===r?void 0:r.document){const e=Element.prototype.attachShadow;Element.prototype.attachShadow=function(t){const r=e.call(this,t);return r.customAttributes||(r.customAttributes=new n(r)),r}}var s;let l;(null===(s=globalThis.window)||void 0===s?void 0:s.document)&&(l=globalThis.customAttributes=new n(document));const a="0.1.7"})();var r=customAttributes="undefined"==typeof customAttributes?{}:customAttributes;for(var o in t)r[o]=t[o];t.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();
//# sourceMappingURL=global.js.map